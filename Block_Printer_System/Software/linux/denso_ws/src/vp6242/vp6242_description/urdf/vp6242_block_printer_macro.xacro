<?xml version="1.0"?>
<robot name="vp6242_block_printer" 
  xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Limits Joint: J1 J2 J3 J4 J5 J6 
               Max : 160 120 160 160 120 360 
               Min :-160 -120 19 -160 -120 -360 -->

  <xacro:include filename="$(find urdf_macro)/urdf/primitive_shape.xacro" />
  <xacro:macro name="mesh_origin">
    <origin rpy="-1.570796 3.141592 0" xyz="0 0 0"/>
  </xacro:macro>
  <xacro:property name="mesh_path" value="package://vp6242_description/meshes" />
  <xacro:property name="mesh_scale" value="0.001 0.001 0.001" />
  <xacro:property name="default_joint_effort" value="100000" />
  <xacro:property name="joint1_min" value="-2.792526803"/>
  <xacro:property name="joint1_max" value="2.792526803"/>
  <xacro:property name="joint2_min" value="-2.094395102"/>
  <xacro:property name="joint2_max" value="2.094395102"/>
  <xacro:property name="joint3_min" value="0.331612558"/>
  <xacro:property name="joint3_max" value="2.792526803"/>
  <xacro:property name="joint4_min" value="-2.792526803"/>
  <xacro:property name="joint4_max" value="2.792526803"/>
  <xacro:property name="joint5_min" value="-2.094395102"/>
  <xacro:property name="joint5_max" value="2.094395102"/>
  <xacro:property name="joint6_min" value="${-2*pi}"/>
  <xacro:property name="joint6_max" value="${2*pi}"/>
  <!--velocity-->
  <xacro:property name="joint1_velocity" value="${250/180.0*pi}"/>
  <xacro:property name="joint2_velocity" value="${187/180.0*pi}"/>
  <xacro:property name="joint3_velocity" value="${250/180.0*pi}"/>
  <xacro:property name="joint4_velocity" value="${300/180.0*pi}"/>
  <xacro:property name="joint5_velocity" value="${300/180.0*pi}"/>
  <xacro:property name="joint6_velocity" value="${300/180.0*pi}"/>
  <!--effort-->
  <xacro:property name="joint1_effort" value="200"/>
  <xacro:property name="joint2_effort" value="200"/>
  <xacro:property name="joint3_effort" value="200"/>
  <xacro:property name="joint4_effort" value="50"/>
  <xacro:property name="joint5_effort" value="50"/>
  <xacro:property name="joint6_effort" value="50"/>

  <link name="base_link">
    <visual>
      <geometry>
        <mesh filename="${mesh_path}/visual/base.dae" scale="${mesh_scale}"/>
      </geometry>
      <xacro:mesh_origin/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="${mesh_path}/collision/base.dae" scale="${mesh_scale}"/>
      </geometry>
      <xacro:mesh_origin/>
    </collision>
  </link>
  <link name="link1">
    <visual>
      <geometry>
        <mesh filename="${mesh_path}/visual/link1.dae" scale="${mesh_scale}"/>
      </geometry>
      <xacro:mesh_origin/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="${mesh_path}/collision/link1.dae" scale="${mesh_scale}"/>
      </geometry>
      <xacro:mesh_origin/>
    </collision>
  </link>

  <link name="link2">
    <visual>
      <geometry>
        <mesh filename="${mesh_path}/visual/link2.dae" scale="${mesh_scale}"/>
      </geometry>
      <xacro:mesh_origin/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="${mesh_path}/collision/link2.dae" scale="${mesh_scale}"/>
      </geometry>
      <xacro:mesh_origin/>
    </collision>
  </link>

  <link name="link3">
    <visual>
      <geometry>
        <mesh filename="${mesh_path}/visual/link3.dae" scale="${mesh_scale}"/>
      </geometry>
      <origin rpy="-1.570796 1.570796 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="${mesh_path}/collision/link3.dae" scale="${mesh_scale}"/>
      </geometry>
      <origin rpy="-1.570796 1.570796 0" xyz="0 0 0"/>
    </collision>
  </link>
  <link name="link4">
    <visual>
      <geometry>
        <mesh filename="${mesh_path}/visual/link4.dae" scale="${mesh_scale}"/>
      </geometry>
      <origin rpy="0 1.570796 1.570796" xyz="0 0 0.085"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="${mesh_path}/collision/link4.dae" scale="${mesh_scale}"/>
      </geometry>
      <origin rpy="0 1.570796 1.570796" xyz="0 0 0.085"/>
    </collision>
  </link>
  <link name="link5">
    <visual>
      <geometry>
        <mesh filename="${mesh_path}/visual/link5.dae" scale="${mesh_scale}"/>
      </geometry>
      <origin rpy="0 1.570796 1.570796" xyz="0 0 0.0"/>
    </visual>
    <collision>
      <geometry>
        <mesh filename="${mesh_path}/collision/link5.dae" scale="${mesh_scale}"/>
      </geometry>
      <origin rpy="0 1.570796 1.570796" xyz="0 0 0.0"/>
    </collision>
  </link>
  <link name="link6">
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0205"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0.0 0.0 -0.005"/>
      <material name="plate">
        <color rgba="0.1 0.1 0.1 0.8"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.0205"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0.0 0.0 -0.005"/>
    </collision>
  </link>
  <link name="tool0"/>


  <!-- Joint list -->
  <joint name="joint1" type="revolute">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.155"/>
    <parent link="base_link"/>
    <child link="link1"/>
    <axis xyz="0 0 1"/>
    <limit lower="${joint1_min}" upper="${joint1_max}" effort="${joint1_effort}" velocity="${joint1_velocity}" />
  </joint>
  <joint name="joint2" type="revolute">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.125"/>
    <parent link="link1"/>
    <child link="link2"/>
    <axis xyz="0 1 0"/>
    <limit lower="${joint2_min}" upper="${joint2_max}" effort="${joint2_effort}" velocity="${joint2_velocity}" />
  </joint>
  <joint name="joint3" type="revolute">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.210"/>
    <parent link="link2"/>
    <child link="link3"/>
    <axis xyz="0 1 0"/>
    <limit lower="${joint3_min}" upper="${joint3_max}" effort="${joint3_effort}" velocity="${joint3_velocity}"/>
  </joint>

  <joint name="joint4" type="revolute">
    <origin rpy="0 0 0" xyz="-0.075 0.0 0.0"/>
    <parent link="link3"/>
    <child link="link4"/>
    <axis xyz="0 0 1"/>
    <limit lower="${joint4_min}" upper="${joint4_max}" effort="${joint4_effort}" velocity="${joint4_velocity}"/>
  </joint>
  <joint name="joint5" type="revolute">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.210"/>
    <parent link="link4"/>
    <child link="link5"/>
    <axis xyz="0 1 0"/>
    <limit lower="${joint5_min}" upper="${joint5_max}" effort="${joint5_effort}" velocity="${joint5_velocity}"/>
  </joint>
  <joint name="joint6" type="revolute">
    <origin rpy="0 0 0" xyz="0.0 0.0 0.07"/>
    <parent link="link5"/>
    <child link="link6"/>
    <axis xyz="0 0 1"/>
    <limit lower="${joint6_min}" upper="${joint6_max}" effort="${joint6_effort}" velocity="${joint6_velocity}"/>
  </joint>
  <joint name="joint6-tool0" type="fixed">
    <parent link="link6"/>
    <child link="tool0"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>

  <!--merge gripper-->
  <xacro:include filename="$(find gripper_description)/urdf/simple_esg1_fs_2840_macro.xacro">
    <arg name="robot_tool_link" value="tool0"/>
  </xacro:include>
</robot>
